{"version":3,"sources":["components/Filter.js","components/Form.js","services/notes.js","components/DisplayPeople.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","NumberForm","name","onName","number","onNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","delete","note","put","DisplayPeople","persons","search","setPersons","people","i","length","toLowerCase","includes","concat","displayPeople","map","person","onClick","window","confirm","noteService","filter","p","Notification","message","colour","console","log","style","background","color","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","newName","setNewName","phoneNumber","setPhoneNumber","notification","setNotification","setColour","useEffect","setSearch","event","target","preventDefault","newPerson","setTimeout","catch","error","addedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3f868fc.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange, }) => {\n    return (\n        <div>\n            Filter: <input value={value} onChange={onChange}/>\n        </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst NumberForm = ({name, onName, number, onNumber, onSubmit}) => {\n    return (\n        <form onSubmit={onSubmit}>\n        <div>\n          Name: <input value={name} onChange={onName}/>\n        </div>\n        <div>\n          Phone Number: <input value={number} onChange={onNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default NumberForm\n","import axios from 'axios'\n\n// const baseUrl = \"http://localhost:3001/api/persons\"\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = (newObject) => {\n    return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst del = (id) => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nconst update = (note) => {\n    return axios.put(`${baseUrl}/${note.id}`, note).then(response => response.data)\n}\n\nexport default {getAll, create, del, update}\n","import React from \"react\";\nimport noteService from '../services/notes'\n\nconst DisplayPeople = ({ persons, search, setPersons }) => {\n  const displayPeople = () => {\n    var people = [];\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name.toLowerCase().includes(search.toLowerCase())) {\n        people = people.concat(persons[i]);\n      }\n    }\n    return people;\n  };\n\n  return (\n    <>\n      {displayPeople().map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number} <button value={person.id} onClick={() => {\n            if (window.confirm(`Delete: ${person.name}?`)) {\n              noteService.del(person.id).then(() => {\n                setPersons(persons.filter(p => p.id !== person.id))})\n            }\n          }}>delete</button>\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default DisplayPeople;\n","const Notification = ({message, colour}) => {\n    if (message === null) {\n        return null\n    }\n    console.log(message, colour)\n    const style = {\n        background: \"lightgrey\",\n        color: colour,\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport NumberForm from \"./components/Form\";\nimport DisplayPeople from \"./components/DisplayPeople\";\nimport noteService from \"./services/notes\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n\n  const [notification, setNotification] = useState(null);\n  const [colour, setColour] = useState(\"black\");\n\n  useEffect(() => {\n    noteService.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handlePhoneNumberChange = (event) => {\n    setPhoneNumber(event.target.value);\n  };\n\n  const [search, setSearch] = useState(\"\");\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (persons.map((person) => person.name).includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook, replace the old number with ${phoneNumber}?`\n        )\n      ) {\n        const person = persons.filter((p) => p.name === newName)[0];\n        const newPerson = { ...person, number: phoneNumber };\n        noteService\n          .update(newPerson)\n          .then(() => {\n            setPersons(\n              persons.map((p) => (p.id !== newPerson.id ? p : newPerson))\n            );\n            setColour(\"green\");\n            setNotification(\n              `\"${newPerson.name}\" 's phone number was successfully edited!`\n            );\n            setTimeout(() => {\n              setNotification(null);\n              setColour(\"black\");\n            }, 5000);\n          })\n          .catch((error) => {\n            setNotification(\n              `\"${person.name}\" was already removed from the server.`\n            );\n            setColour(\"red\");\n            setTimeout(() => {\n              setNotification(null);\n              setColour(\"black\");\n            }, 5000);\n          });\n      }\n      setNewName(\"\");\n      setPhoneNumber(\"\");\n    } else {\n      const addedPerson = { name: newName, number: phoneNumber };\n\n      noteService\n        .create(addedPerson)\n        .then((response) => {\n          setPersons(persons.concat(response));\n          setColour(\"green\");\n          setNotification(`\"${addedPerson.name}\" was added to the server!`);\n          setTimeout(() => {\n            setNotification(null);\n            setColour(\"black\");\n          }, 5000);\n        })\n        .catch((error) => {\n          setNotification(error.response.data);\n          setColour(\"red\");\n          setTimeout(() => {\n            setNotification(null);\n            setColour(\"black\");\n          }, 5000);\n        });\n      setNewName(\"\");\n      setPhoneNumber(\"\");\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} colour={colour} />\n      <Filter value={search} onChange={handleSearchChange} />\n      <h2>New</h2>\n      <NumberForm\n        name={newName}\n        onName={handleNameChange}\n        number={phoneNumber}\n        onNumber={handlePhoneNumberChange}\n        onSubmit={addPerson}\n      />\n      <h2>Numbers</h2>\n      <DisplayPeople\n        persons={persons}\n        search={search}\n        setPersons={setPersons}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}